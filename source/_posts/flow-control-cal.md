---
title: 窗口大小、有效数据率、信道利用率计算
date: 2021-08-06 18:25:53
tags:
- 计算机网络
- 流量控制
categories:
- 计算机网络
---

## 窗口大小

### 停止等待协议

$W_T = W_R = 1$

### GBN协议

$W_T \ge 1,  W_R = 1$

若用n个bit对帧序列进行编号，$W_T \le 2^{n}-1 $​

### 选择重传协议

$ W_T \ge 1, W_R \ge 1$

$W_T \ge W_R$，否则接收窗口永远不满，无意义

若用n个bit对帧序列进行编号，$W_T + W_R \le 2^n$

一般情况下$W_R = W_T$，所以最大值为$W_{Tmax} = W_{Rmax} = 2^{n-1}$



## 有效数据率

首先要知道*发送周期*指的是：**T=发送延时+RTT**，若在T时间内发送mbit数据，则有效数据率$V=\frac{m}{T}$​

设：

- 帧大小：L

- 两主机间单向传播时间：t，则RTT为2t

- 信道带宽/数据传输率：M

- 发送周期：$T = \frac{L}{M} + 2t + (确认帧发送时间)$​​ 

  > 如果题目忽略确认帧发送时间就不算括号内的，如果题目中说确认帧由数据帧捎带，意思是确认帧的发送时间和数据帧发送时间一样为$\frac{L}{M}$​, 王道P81

### 停止等待协议

由于必须收到确认才能再次发送，所以一个发送周期之内发送一帧，所以
$$
V=\frac{L}{T} = \frac{L}{\frac{L}{M}+2t}
$$


### GBN协议

设窗口大小为n

在收到确认前可以发送n个帧，所以
$$
V = \frac{nL}{T} = \frac{nL}{\frac{L}{M}+2t}
$$


### 选择重传协议

同上



## 信道利用率

$$
信道利用率=\frac{有效时间}{总时间}=\frac{\frac{nL}{M}}{T}
$$

